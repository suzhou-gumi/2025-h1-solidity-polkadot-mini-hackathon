链上抽签应用 - 基础版大纲 (黑客松 MVP)

1. 智能合约架构 (Solidity)
主合约 (LotteryFactory):

负责创建和管理多个独立的抽奖场次实例。

维护一个从抽奖 ID (用户自定义字符串) 到抽奖实例合约地址的映射。

提供发起新抽奖的函数。

提供查询所有抽奖列表的函数 (简化版，不区分公开/私密)。

抽奖实例合约 (SimpleLottery):

每个抽奖场次对应一个独立的合约实例。

包含该场次的基本状态变量 (ID, 名称, 入场费, 参与者, 中奖者, 奖池, 开奖时间, 状态)。

包含核心操作函数 (参与, 开奖, 领奖)。

继承 Ownable 管理该场次的发起人 (Owner) 权限 (开奖和重置)。

2. 核心功能模块 (基础版)
2.1 用户入口
入口页面： 用户连接钱包后，显示所有已创建的抽奖列表。提供“发起抽奖”按钮。

2.2 发起抽奖 (基础版)
填写基本信息：

抽奖名称 (字符串)

抽奖 ID (字符串，用户自定义，需检查唯一性)

入场费 (uint256) - 奖池由入场费累积 (简化为这一种模式)。

开奖时间 (时间戳 uint256)

确认与部署： 用户确认信息，前端调用主合约的“发起抽奖”函数，部署新的 SimpleLottery 合约实例。

2.3 抽奖场次管理 (发起人权限)
查看场次详情： 发起人可以进入自己创建的抽奖场次页面，查看参与者列表、当前奖池等。

触发开奖： 在开奖时间到达后，发起人可以手动调用该场次合约的 drawWinner() 函数。

重置抽奖： 在奖金领取后，发起人可以调用 resetLottery() 重置。

2.4 参与抽奖 (基础版)
抽奖列表： 在主页显示所有已创建的抽奖列表 (名称, ID, 入场费, 当前奖池, 开奖时间, 状态)。

进入场次： 用户点击列表中的抽奖进入详情页面。

查看信息： 显示该场次的基本信息。

参与操作： 用户点击“参与”按钮，前端调用该场次合约的 enter() 函数，并支付入场费。

2.5 开奖与领奖 (基础版)
开奖触发： 达到时间后，发起人手动触发 drawWinner()。

中奖者确定： 合约执行伪随机数逻辑确定中奖者。

结果公布： 前端显示中奖者。

领奖操作： 中奖者进入场次页面，点击“领取奖金”按钮，调用 claimPrize()。

2.6 查询功能 (基础版)
通过 ID 查询： (可选，如果时间允许可以加上) 提供一个简单的输入框，输入 ID 查询。

列表展示： 主要通过主页的列表展示所有抽奖信息。

2.7 错误处理与提示 (基础版)
智能合约： 在核心操作中使用 require() 提供基本错误信息 (如入场费不正确，状态错误)。

前端： 捕获并显示这些基本错误信息。